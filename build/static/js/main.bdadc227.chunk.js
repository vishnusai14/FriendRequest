(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(t,e,n){t.exports={container:"navigation_container__3rCR-",nav:"navigation_nav__BSTG2",menuItems:"navigation_menuItems__3YnUW",list:"navigation_list__r0ARh",anchor:"navigation_anchor__74-es"}},18:function(t,e,n){t.exports={Button:"suggestion_Button__FF1-t"}},39:function(t,e,n){t.exports={notValid:"auth_notValid__37uic",box:"auth_box__3IMwE",forgot:"auth_forgot__1AK12"}},41:function(t,e,n){t.exports={ldsRing:"spinner_ldsRing__1DKTO","lds-ring":"spinner_lds-ring__3fBXK"}},42:function(t,e,n){t.exports={Input:"myfriend_Input__7VWmA"}},48:function(t,e,n){},72:function(t,e,n){t.exports={ol:"notification_ol__1BADL"}},74:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),i=n(22),c=n.n(i),r=(n(48),n(2)),o=n(12),l=n(13),u=n(15),d=n(14),j=n(39),h=n.n(j),b=n(16),m=n(5),O=n.n(m),f=function(t,e){return{type:"AUTH_SUCCESS",token:t,msg:e}},p=function(t){return{type:"AUTH_FAIL",error:t}},g=n(0),x=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={username:{value:"",validation:{required:!0},isValid:!1},password:{value:"",validation:{minLength:3,required:!0},isValid:!1},formValid:!1,isSignUp:!0},t.componentDidMount=function(){var e=localStorage.getItem("SSUID");if(e){var n={token:e};O.a.post("http://localhost:5050/check",n).then((function(e){t.props.history.push("/admin")})).catch((function(e){t.props.history.push("/")}))}},t.userHandler=function(e){var n=!0;t.state.username.validation.required&&(n=""!==e.target.value&&n);var a=n&&t.state.password.isValid;t.setState((function(t){return{username:Object(r.a)(Object(r.a)({},t.username),{},{value:e.target.value,isValid:n}),password:Object(r.a)({},t.password),formValid:a}}))},t.passwordHandler=function(e){var n=!0;t.state.password.validation.required&&(n=""!==e.target.value&&n),t.state.password.validation.minLength&&(n=e.target.value.length>=t.state.password.validation.minLength&&n);var a=t.state.username.isValid&&n;t.setState((function(t){return{username:Object(r.a)({},t.username),password:Object(r.a)(Object(r.a)({},t.password),{},{value:e.target.value,isValid:n}),formValid:a}}))},t.switchSignMode=function(e){e.preventDefault(),t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{username:Object(r.a)({},t.username),password:Object(r.a)({},t.password),isSignUp:!t.isSignUp})}))},t.submitHandler=function(e){t.props.auth(e,t.state.username.value,t.state.password.value,t.state.isSignUp)},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.state.formValid;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"classcol-md-6",children:Object(g.jsx)("div",{className:"card",children:Object(g.jsxs)("form",{onSubmit:function(e){t.submitHandler(e)},className:h.a.box,children:[Object(g.jsx)("h1",{children:this.state.isSignUp?"SignUp":"LogIn"}),Object(g.jsx)("p",{style:{color:"whitesmoke"},className:"textmuted",children:" Please enter your login and password!"}),Object(g.jsx)("input",{type:"text",name:"",placeholder:"Username",value:this.state.username.value,onChange:function(e){t.userHandler(e)}}),Object(g.jsx)("input",{type:"password",name:"",placeholder:"Password",value:this.state.password.value,onChange:function(e){t.passwordHandler(e)}}),Object(g.jsx)("input",{disabled:!e,type:"submit",name:"",value:this.state.isSignUp?"SIGN UP":"LOG IN"}),Object(g.jsx)("input",{onClick:function(e){t.switchSignMode(e)},type:"submit",name:"",value:this.state.isSignUp?"Switch Login":"Switch Signup"}),Object(g.jsx)("ul",{children:Object(g.jsx)("li",{style:{color:"white",listStyle:"none"},children:"Password Must Be Atleast 3 Characters"})}),Object(g.jsxs)("p",{className:"text-muted",children:[this.props.error,this.props.msg]})]})})})})})})}}]),n}(a.Component),v=Object(b.b)((function(t){return{error:t.error,loading:t.isLoading,msg:t.msg}}),(function(t){return{auth:function(e,n,a,s){t(function(t,e,n,a){return t.preventDefault(),function(t){t({type:"AUTH_START",error:"Loading"});var s={user:e,password:n};a?O.a.post("http://localhost:5050/signup",s).then((function(e){t(f(null,e.data.data))})).catch((function(e){void 0!==e.response?t(p(e.response.data.error)):t(p("Internal Server Error"))})):O.a.post("http://localhost:5050/login",s).then((function(e){e.data.token&&(localStorage.setItem("SSUID",e.data.token),t(f(e.data.token,null)))})).catch((function(e){void 0!==e.response?t(p(e.response.data.error)):t(p("Internal Server Error"))}))}}(e,n,a,s))}}}))(x),S=n(10),y=n.n(S),_=function(){return Object(g.jsxs)("section",{children:[Object(g.jsx)("div",{}),Object(g.jsx)("nav",{className:y.a.nav,children:Object(g.jsxs)("ul",{className:y.a.menuItems,children:[Object(g.jsx)("li",{className:y.a.list,children:Object(g.jsx)("a",{className:y.a.anchor,href:"/","data-item":"Home",children:"Home"})}),Object(g.jsx)("li",{className:y.a.list,children:Object(g.jsx)("a",{className:y.a.anchor,href:"/notification","data-item":"Notification",children:"Notification"})}),Object(g.jsx)("li",{className:y.a.list,children:Object(g.jsx)("a",{className:y.a.anchor,href:"/suggestion","data-item":"Suggestion",children:"Suggestion"})}),Object(g.jsx)("li",{className:y.a.list,children:Object(g.jsx)("a",{className:y.a.anchor,href:"/myfriend","data-item":"Friends",children:"Friends"})}),Object(g.jsx)("li",{className:y.a.list,children:Object(g.jsx)("a",{className:y.a.anchor,href:"/logout","data-item":"Logout",children:"Logout"})})]})})]})},L=n(41),I=n.n(L),k=function(){return Object(g.jsxs)("div",{className:I.a.ldsRing,children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})},w=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={userName:"",isLoading:!0},t.componentDidMount=function(){var e={token:t.props.token||localStorage.getItem("SSUID")};O.a.post("http://localhost:5050/check",e).then((function(n){n.data&&(localStorage.setItem("SSUID",e.token),t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{userName:n.data.user,isLoading:!1,isAuth:!0})})))})).catch((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!1,isAuth:!1})}))}))},t}return Object(l.a)(n,[{key:"render",value:function(){return this.state.isLoading?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(k,{})}):this.state.isAuth?Object(g.jsxs)(g.Fragment,{children:[" ",Object(g.jsx)(_,{}),Object(g.jsxs)("h1",{children:["Hello ,  ",this.state.userName,Object(g.jsx)("i",{style:{marginLeft:"10px"},className:"fas fa-user"})]})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("h1",{children:["Please Login ",Object(g.jsx)("a",{href:"/",children:" Login"})]})})}}]),n}(a.Component),N=Object(b.b)((function(t){return{token:t.token,serverError:t.error,loading:t.isLoading}}))(w),A=n(4),U=n(17),M=n(18),D=n.n(M),C=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={users:[],friends:[],isAuth:!1,loginId:0,isLoading:!0},t.getFriend=function(){var e={token:localStorage.getItem("SSUID")};O.a.post("http://localhost:5050/newfriend",e).then((function(e){console.log(e),t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{users:e.data.user,friends:e.data.friend,loginId:e.data.loginId})}))})).catch((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!1})}))}))},t.submitHandler=function(e,n){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!0})}));var a={user_id:n,token:localStorage.getItem("SSUID")};O.a.post("http://localhost:5050/friend",a).then((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!1})})),window.location.reload()})).catch((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!1})}))}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this,e={token:localStorage.getItem("SSUID")};console.log(e),O.a.post("http://localhost:5050/check",e).then((function(e){t.getFriend(),e.data?t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!1,isAuth:!0})})):t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!1,isAuth:!1})}))})).catch((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!1,isAuth:!1})}))}))}},{key:"render",value:function(){var t=this,e=Object(U.a)(this.state.users),n=Object(U.a)(this.state.friends),a=this.state.loginId;console.log(this.state);var s=Object(g.jsx)("ul",{children:e.map((function(e){var s="",i=0;return n.map((function(t){return e.user_id===t.friend_two&&a===t.friend_one&&(i=1,s=1===t.status?Object(g.jsxs)("li",{children:[" ",Object(g.jsxs)("button",{className:D.a.Button,type:"submit",disabled:!0,children:[e.username," is a friend "]})]},Math.random()):2===t.status?Object(g.jsxs)("li",{children:[" ",Object(g.jsxs)("button",{className:D.a.Button,type:"submit",disabled:!0,children:[t.friend_two_name," Blocked You"]})]},Math.random()):Object(g.jsxs)("li",{children:[" ",Object(g.jsxs)("button",{className:D.a.Button,type:"submit",disabled:!0,children:[e.username," Request Sent"]})]},Math.random())),e.user_id===t.friend_one&&a===t.friend_two&&(i=1,s=1===t.status?Object(g.jsxs)("li",{children:[" ",Object(g.jsxs)("button",{className:D.a.Button,type:"submit",disabled:!0,children:[e.username," is a friend "]})]},Math.random()):2===t.status?Object(g.jsxs)("li",{children:[" ",Object(g.jsxs)("button",{className:D.a.Button,type:"submit",disabled:!0,children:["You Blocked ",t.friend_one_name," "]})]},Math.random()):Object(g.jsxs)("li",{children:[" ",Object(g.jsxs)("button",{className:D.a.Button,type:"submit",disabled:!0,children:[e.username," Sent You a  Request "]})]},Math.random())),s})),0===i&&(s=Object(g.jsxs)("li",{onClick:function(n){t.submitHandler(n,e.user_id)},children:[" ",Object(g.jsx)("button",{className:D.a.Button,type:"submit",name:"userid",value:e.user_id,children:e.username})]},Math.random())),s}))});return this.state.isLoading?Object(g.jsx)(k,{}):this.state.isAuth?Object(g.jsxs)(g.Fragment,{children:[" ",Object(g.jsx)(_,{})," ",s," "]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("h1",{children:["Please Login... ",Object(g.jsx)("a",{href:"/",children:"Login"})]})})}}]),n}(a.Component),F=n(42),R=n.n(F),H=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={friends:[],isAuth:!1,isLoading:!0},t.getFriend=function(){var e={token:localStorage.getItem("SSUID")};O.a.post("http://localhost:5050/myfriend",e).then((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{friends:e.data.friend})}))})).catch((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isAuth:!1,isLoading:!1})}))}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this,e={token:localStorage.getItem("SSUID")};O.a.post("http://localhost:5050/check",e).then((function(e){t.getFriend(),e.data?t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isAuth:!0,isLoading:!1})})):t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isAuth:!1,isLoading:!1})}))})).catch((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isAuth:!1,isLoading:!1})}))}))}},{key:"render",value:function(){var t=Object(U.a)(this.state.friends);return this.state.isLoading?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(k,{})}):this.state.isAuth?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{}),Object(g.jsx)("ul",{children:t.map((function(t){return Object(g.jsx)("li",{children:Object(g.jsx)("input",{className:R.a.Input,type:"submit",value:t.friend_two_name||t.friend_one_name},Math.random())},Math.random())}))})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("h1",{children:["Please Login... ",Object(g.jsx)("a",{href:"/",children:"Login"})]})})}}]),n}(a.Component),q=(n(72),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={isAuth:!1,isLoading:!0,sendRequests:[],receiveRequests:[]},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this,e={token:localStorage.getItem("SSUID")};O.a.post("http://localhost:5050/notification",e).then((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isAuth:!0,isLoading:!1,sendRequests:e.data.sendRequests,receiveRequests:e.data.receiveRequests})}))})).catch((function(e){t.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isAuth:!1,isLoading:!1,sendRequests:[],receiveRequests:[]})}))}))}},{key:"responseHandler",value:function(t,e){var n=this;t.preventDefault();var a={};a="accept"===e?{token:localStorage.getItem("SSUID"),accept:t.target.value,decline:void 0}:{token:localStorage.getItem("SSUID"),decline:t.target.value,accept:void 0},O.a.post("http://localhost:5050/acceptdecline",a).then((function(t){n.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!1})})),window.location.reload()})).catch((function(t){n.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{isLoading:!1})}))}))}},{key:"render",value:function(){var t=this,e=Object(U.a)(this.state.sendRequests),n=Object(U.a)(this.state.receiveRequests),a=Object(g.jsx)("div",{className:"card",style:{width:"18rem",alignItems:"center",justifyContent:"center",display:"flex",margin:"auto"},children:Object(g.jsx)("ul",{className:"list-group list-group-flush",children:e.map((function(t){return Object(g.jsx)("li",{className:"list-group-item",children:t.friend_two_name},Math.random())}))})}),s=Object(g.jsx)("div",{className:"card",style:{width:"40rem",alignItems:"center",justifyContent:"center",display:"flex",margin:"auto"},children:Object(g.jsx)("ul",{className:"list-group list-group-flush",children:n.map((function(e){var n="",a="",s="";return 0===e.status?(a=Object(g.jsx)("button",{style:{marginLeft:"5px"},onClick:function(e){t.responseHandler(e,"accept")},type:"submit",name:"accept",value:e.friend_one,children:"Accept"},Math.random()),s=Object(g.jsx)("button",{style:{marginLeft:"5px"},onClick:function(e){t.responseHandler(e,"decline")},type:"submit",name:"decline",value:e.friend_one,children:"Decline"},Math.random()),n=Object(g.jsx)("div",{children:Object(g.jsxs)("li",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[e.friend_one_name," ",a," ",s]},Math.random())},Math.random())):n=1===e.status?Object(g.jsx)("div",{children:Object(g.jsxs)("li",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:"list-group-item",children:[e.friend_one_name,Object(g.jsx)("button",{style:{marginLeft:"3px"},disabled:!0,children:"Accepted"})]},Math.random())},Math.random()):Object(g.jsxs)("div",{children:[" ",Object(g.jsxs)("li",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:"list-group-item",children:[" ",e.friend_one_name,Object(g.jsx)("button",{style:{marginLeft:"3px"},disabled:!0,children:"Declined"})]},Math.random())]},Math.random()),n}))})});return Object(g.jsx)("div",{children:this.state.isLoading?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(k,{})}):this.state.isAuth?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{}),Object(g.jsxs)("h1",{children:[Object(g.jsx)("input",{type:"submit",value:"Send Request"}),a]}),Object(g.jsxs)("h1",{children:[Object(g.jsx)("input",{type:"submit",value:"Receive Request"}),s]})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("h1",{children:["Please Login... ",Object(g.jsx)("a",{href:"/",children:"Login"})]})})})}}]),n}(a.Component)),B=function(){return localStorage.removeItem("SSUID"),Object(g.jsx)(A.a,{to:"/"})};var V=Object(b.b)((function(t){return{token:t.token}}))((function(t){return Object(g.jsxs)("div",{className:"App",children:[t.token?Object(g.jsx)(A.a,{to:"/admin"}):null,Object(g.jsx)(A.b,{exact:!0,path:"/",component:v}),Object(g.jsx)(A.b,{exact:!0,path:"/admin",component:N}),Object(g.jsx)(A.b,{exact:!0,path:"/suggestion",component:C}),Object(g.jsx)(A.b,{exact:!0,path:"/myfriend",component:H}),Object(g.jsx)(A.b,{exact:!0,path:"/notification",component:q}),Object(g.jsx)(A.b,{exact:!0,path:"/logout",component:B})]})})),T=n(26),P=n(21),E=n(43),Y={token:null,userId:null,isLoading:!0,error:null,msg:null},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;return"AUTH_START"===e.type?Object(r.a)(Object(r.a)({},t),{},{isLoading:!0,error:e.error,msg:null}):"AUTH_SUCCESS"===e.type?Object(r.a)(Object(r.a)({},t),{},{isLoading:!1,token:e.token,msg:e.msg,error:null}):"AUTH_FAIL"===e.type?Object(r.a)(Object(r.a)({},t),{},{isLoading:!1,token:null,error:e.error,userId:null,msg:null}):t},K=Object(P.c)(G,Object(P.a)(E.a));c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(T.a,{children:Object(g.jsx)(b.a,{store:K,children:Object(g.jsx)(V,{})})})}),document.getElementById("root"))}},[[74,1,2]]]);